generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model actEspecifica {
  nact_especifica  String @id
  idact_especifica Int?

  @@map("actespecifica")
}

model cajaAnual {
  nro             Int?
  codcaja_a       String    @id
  fecha_apertura  DateTime?
  monto_inicial_a Float?
  ingreso_a       Float?
  salida_a        Float?
  saldo_a         Float?
  fechacierre     DateTime?
  registra        String?
  estado_c_a      String?
  caja_mes        cajaMes[]

  @@map("cajaanual")
}

model cajaMes {
  nro             Int?
  codcaja_m       String    @id
  fecha_apertura  DateTime?
  monto_inicial_m Float?
  ingreso_mes     Float?
  salida_mes      Float?
  saldo_mes       Float?
  fechacierre     DateTime?
  codcaja_a       String
  registra        String?
  estado_c_m      String?
  caja_anual      cajaAnual @relation(fields: [codcaja_a], references: [codcaja_a], map: "CajaMes_codcaja_a_fkey")
  ingreso         ingreso[]
  salida          salida[]

  @@index([codcaja_a], map: "CajaMes_codcaja_a_fkey")
  @@map("cajames")
}

model clienteProv {
  nro                 Int?
  idclienteprov       String     @id
  nregimen            String?
  razonsocial         String?    @db.VarChar(85)
  u_digito            String?    @db.Char(2)
  ruc                 String?    @db.VarChar(11)
  c_usuario           String?    @db.VarChar(20)
  c_passw             String?    @db.VarChar(45)
  dni                 String?    @db.VarChar(8)
  cod_envio           String?
  pdt_621             String?    @db.Char(2)
  planilla_elect      String?    @db.Char(2)
  fact_elect          String?    @db.Char(2)
  libro_elect         String?    @db.Char(2)
  tipo_cronog         String?    @db.Char(2)
  ple_desde           String?    @default("0000-00-00")
  cta_detraccion      String?
  paga_detraccion     String?    @db.Char(2)
  paga_percepcion     String?    @db.Char(2)
  compensa_percepcion String?    @db.Char(2)
  sujeta_retencion    String?    @db.Char(2)
  clave_afpnet        String?
  clave_rnp           String?    @db.Char(2)
  nrubro              String?
  nact_especifica     String?
  fecha_ingreso       String?    @default("0000-00-00")
  contacto            String?
  telefono            Int?
  direccion           String?
  responsable         String?
  montoref            Float?
  honorario_anual     String?
  obs                 String?
  idfacturador        Int
  f_usuario           String
  f_pass              String     @db.VarChar(50)
  estado              String     @db.Char(2)
  declarado           String     @db.VarChar(2)
  facturador          facturador @relation(fields: [idfacturador], references: [idfacturador], map: "ClienteProv_idfacturador_fkey")
  regimen             regimen?   @relation(fields: [nregimen], references: [nregimen], map: "ClienteProv_nregimen_fkey")
  rubro               rubro?     @relation(fields: [nrubro], references: [nrubro], map: "ClienteProv_nrubro_fkey")
  ingreso             ingreso[]
  salida              salida[]
  tributos            tributos[]

  @@index([idfacturador], map: "ClienteProv_idfacturador_fkey")
  @@index([nregimen], map: "ClienteProv_nregimen_fkey")
  @@index([nrubro], map: "ClienteProv_nrubro_fkey")
  @@map("clienteprov")
}

model concepto {
  idconcepto      Int       @id @default(autoincrement())
  nombre_concepto String?
  ingreso         ingreso[]
  salida          salida[]

  @@map("concepto")
}

model configuracion {
  idconfig      Int     @id @default(autoincrement())
  e_razonsocial String?
  e_ncomercial  String?
  igv           Float?
  tim           Float?
  e_ruc         String?

  @@map("configuracion")
}

model estado {
  idestado   Int       @id @default(autoincrement())
  nom_estado String?
  ingreso    ingreso[]
  salida     salida[]

  @@map("estado")
}

model estadoCliente {
  idestadocliente Int     @id @default(autoincrement())
  descripcion     String?

  @@map("estadocliente")
}

model facturador {
  idfacturador Int           @id @default(autoincrement())
  n_facturador String?
  f_obs        String?
  cliente_prov clienteProv[]

  @@map("facturador")
}

model formaPagoTrib {
  idforma_pago_trib String  @id
  descripcion       String?

  @@map("formapagotrib")
}

model ingreso {
  idingreso     Int            @id @default(autoincrement())
  fecha         DateTime?
  idtipo_op     Int?
  idtipo_doc    Int?
  serie_doc     Int?
  num_doc       Int?
  idclienteprov String
  idconcepto    Int
  idperiodo     Int
  anio          Int?
  importe       Float?
  idestado      Int?
  observacion   String?
  registra      String?
  codcaja_m     String
  caja_mes      cajaMes        @relation(fields: [codcaja_m], references: [codcaja_m], map: "Ingreso_codcaja_m_fkey")
  cliente_prov  clienteProv    @relation(fields: [idclienteprov], references: [idclienteprov], map: "Ingreso_idclienteprov_fkey")
  concepto      concepto       @relation(fields: [idconcepto], references: [idconcepto], map: "Ingreso_idconcepto_fkey")
  estado        estado?        @relation(fields: [idestado], references: [idestado], map: "Ingreso_idestado_fkey")
  periodo       periodo        @relation(fields: [idperiodo], references: [idperiodo], map: "Ingreso_idperiodo_fkey")
  tipo_doc      tipoDocumento? @relation(fields: [idtipo_doc], references: [idtipo_doc], map: "Ingreso_idtipo_doc_fkey")
  tipo_op       tipoOperacion? @relation(fields: [idtipo_op], references: [idtipo_op], map: "Ingreso_idtipo_op_fkey")

  @@index([codcaja_m], map: "Ingreso_codcaja_m_fkey")
  @@index([idclienteprov], map: "Ingreso_idclienteprov_fkey")
  @@index([idconcepto], map: "Ingreso_idconcepto_fkey")
  @@index([idestado], map: "Ingreso_idestado_fkey")
  @@index([idperiodo], map: "Ingreso_idperiodo_fkey")
  @@index([idtipo_doc], map: "Ingreso_idtipo_doc_fkey")
  @@index([idtipo_op], map: "Ingreso_idtipo_op_fkey")
  @@map("ingreso")
}

model notas {
  idnotas       Int       @id @default(autoincrement())
  n_fecha       DateTime? @db.Date
  idclienteprov String?   @db.Char(5)
  contenido     String?   @db.Text
  fecha_ed      DateTime  @db.Date
  ncreador      String?
  neditor       String?

  @@map("notas")
}

model pagos {
  idpagos           Int       @id @default(autoincrement())
  idtributos        Int
  fecha_p           DateTime? @db.Date
  importe_p         Float
  idforma_pago_trib String
  detalles          String?

  @@map("pagos")
}

model periodo {
  idperiodo   Int       @id @default(autoincrement())
  nom_periodo String?
  ingreso     ingreso[]
  salida      salida[]

  @@map("periodo")
}

model personal {
  id_personal Int       @id @default(autoincrement())
  nombres     String?
  apellidos   String?
  direccion   String?
  telefono    String?   @db.Char(9)
  personalcol String?
  usuario     usuario[]

  @@map("personal")
}

model regimen {
  nregimen     String        @id
  idregimen    Int?
  cliente_prov clienteProv[]

  @@map("regimen")
}

model rubro {
  nrubro       String        @id
  idrubro      Int?
  cliente_prov clienteProv[]

  @@map("rubro")
}

model salida {
  idsalida      Int            @id @default(autoincrement())
  fecha         DateTime?
  idtipo_op     Int?
  idtipo_doc    Int?
  serie_doc     Int?
  num_doc       Int?
  idclienteprov String
  idconcepto    Int
  idperiodo     Int
  anio          Int?
  importe       Float?
  idestado      Int?
  observacion   String?
  registra      String?
  codcaja_m     String
  caja_mes      cajaMes        @relation(fields: [codcaja_m], references: [codcaja_m], map: "Salida_codcaja_m_fkey")
  cliente_prov  clienteProv    @relation(fields: [idclienteprov], references: [idclienteprov], map: "Salida_idclienteprov_fkey")
  concepto      concepto       @relation(fields: [idconcepto], references: [idconcepto], map: "Salida_idconcepto_fkey")
  estado        estado?        @relation(fields: [idestado], references: [idestado], map: "Salida_idestado_fkey")
  periodo       periodo        @relation(fields: [idperiodo], references: [idperiodo], map: "Salida_idperiodo_fkey")
  tipo_doc      tipoDocumento? @relation(fields: [idtipo_doc], references: [idtipo_doc], map: "Salida_idtipo_doc_fkey")
  tipo_op       tipoOperacion? @relation(fields: [idtipo_op], references: [idtipo_op], map: "Salida_idtipo_op_fkey")

  @@index([codcaja_m], map: "Salida_codcaja_m_fkey")
  @@index([idclienteprov], map: "Salida_idclienteprov_fkey")
  @@index([idconcepto], map: "Salida_idconcepto_fkey")
  @@index([idestado], map: "Salida_idestado_fkey")
  @@index([idperiodo], map: "Salida_idperiodo_fkey")
  @@index([idtipo_doc], map: "Salida_idtipo_doc_fkey")
  @@index([idtipo_op], map: "Salida_idtipo_op_fkey")
  @@map("salida")
}

model tipoDocumento {
  idtipo_doc  Int       @id
  descripcion String?
  ingreso     ingreso[]
  salida      salida[]

  @@map("tipodocumento")
}

model tipoOperacion {
  idtipo_op Int       @id
  nombre_op String?
  ingreso   ingreso[]
  salida    salida[]

  @@map("tipooperacion")
}

model tipoTrib {
  idtipo_trib   String     @id
  descripcion_t String?
  tributos      tributos[]

  @@map("tipotrib")
}

model tipoUsuario {
  id_tipo     Int       @id @default(autoincrement())
  descripcion String?
  usuario     usuario[]

  @@map("tipousuario")
}

model tmp {
  idtmp             Int      @id @default(autoincrement())
  fecha_p           DateTime @db.Date
  importe_p         Float
  idforma_pago_trib String?
  detalles          String?
  session_id        String

  @@map("tmp")
}

model tributos {
  idtributos    Int         @id @default(autoincrement())
  fecha_v       String?     @default("0000-00-00")
  idclienteprov String
  anio          String?     @db.Char(4)
  mes           String?     @db.Char(2)
  idtipo_trib   String
  importe_reg   Float?
  importe_pc    Int?
  importe_pend  Int?
  importe_pag   Float?
  estado        String      @db.Char(1)
  obs           String?
  fecha_reg     DateTime?   @db.Date
  cliente_prov  clienteProv @relation(fields: [idclienteprov], references: [idclienteprov], map: "Tributos_idclienteprov_fkey")
  tipo_trib     tipoTrib    @relation(fields: [idtipo_trib], references: [idtipo_trib], map: "Tributos_idtipo_trib_fkey")

  @@index([idclienteprov], map: "Tributos_idclienteprov_fkey")
  @@index([idtipo_trib], map: "Tributos_idtipo_trib_fkey")
  @@map("tributos")
}

model usuario {
  id_usuario   Int         @id @default(autoincrement())
  usuario      String?     @unique(map: "Usuario_usuario_key")
  password     String?
  id_personal  Int
  id_tipo      Int
  personal     personal    @relation(fields: [id_personal], references: [id_personal], map: "Usuario_id_personal_fkey")
  tipo_usuario tipoUsuario @relation(fields: [id_tipo], references: [id_tipo], map: "Usuario_id_tipo_fkey")

  @@index([id_personal], map: "Usuario_id_personal_fkey")
  @@index([id_tipo], map: "Usuario_id_tipo_fkey")
  @@map("usuario")
}

model vencimientos {
  idvencimientos Int      @id @default(autoincrement())
  d0             DateTime @db.Date
  d1             DateTime @db.Date
  d2             DateTime @db.Date
  d3             DateTime @db.Date
  d4             DateTime @db.Date
  d5             DateTime @db.Date
  d6             DateTime @db.Date
  d7             DateTime @db.Date
  d8             DateTime @db.Date
  d9             DateTime @db.Date
  anio_v         String   @db.Char(4)
  mes_v          String   @db.VarChar(2)

  @@map("vencimientos")
}

model monitoreo_buzon {
  id                  Int      @id @default(autoincrement())
  idclienteprov       String   @unique
  fecha_inicio        DateTime @default(now())
  cantidad_no_leidos  Int      @default(0)
  ultima_revision     DateTime?
}

model monitoreo_mensaje {
  id             Int      @id @default(autoincrement())
  idclienteprov  String
  mensajeId      String   @unique
  asunto         String   @db.Text
  fecha          DateTime
  tag            String?
  leido          Boolean  @default(false)
}

model monitoreo_sunafil {
  id                  Int      @id @default(autoincrement())
  idclienteprov       String   @unique
  fecha_inicio        DateTime @default(now())
  cantidad_pendientes Int      @default(0)
  ultima_revision     DateTime?
}

model monitoreo_sunafil_alerta {
  id             Int      @id @default(autoincrement())
  idclienteprov  String
  alertaId       String   @unique @default(cuid())
  descripcion    String   @db.Text
  cantidad       String?
  fecha_captura  DateTime @default(now())
  leido          Boolean  @default(false)
}
